<article class="page-container">
  <h1>Gestão da organização</h1>
  <mat-tab-group animationDuration="0ms" mat-align-tabs="start" *ngIf="org$ | async as org; else loading">
    <mat-tab label="Visão geral">
      <mat-list>
        <mat-list-item>
          <span matListItemTitle>Nome da organização</span>
          <span matListItemLine>{{org.name}}</span>
        </mat-list-item>
        <mat-divider></mat-divider>
        <mat-list-item>
          <span matListItemTitle>Plano</span>
          <span matListItemLine>{{org.subscription}}</span>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
    </mat-tab>

    <mat-tab label="Gerenciar membros">
      <table mat-table [dataSource]="org.members">
        <!-- Position Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef> Nome </th>
          <td mat-cell *matCellDef="let element"> {{element.name}} </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef> Email </th>
          <td mat-cell *matCellDef="let element"> {{element.email}} </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="role">
          <th mat-header-cell *matHeaderCellDef> Função </th>
          <td mat-cell *matCellDef="let element"> {{element.role}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="tableDisplayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: tableDisplayedColumns;"></tr>
      </table>
    </mat-tab>

  </mat-tab-group>
  <ng-template #loading><mat-spinner></mat-spinner></ng-template>

</article>
